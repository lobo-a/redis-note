一、redis服务器需要在给定的时间点执行，而事件事件就是服务器对这些定时操作的抽象。

1、定时事件

2、周期事件

二、实现
	1、服务器将所有的事件事件都放在一个无序的链表中，每当事件事件执行器运行时，它就遍历整个链表，查找所有到期的事件，并调用相应的事件处理器。

	2、serverCron 函数
		持续运行的redis服务器需要定期对自身的资源和状态进行检查和调整，从而确保服务器的长期、稳定运行，这个工作由
		serverCron函数来完成，主要内容有：
			更新服务器的统计信息，如时间、内存占用、数据库占用等情况
			清理数据库中的过期键值对
			关闭和清理连接失效的客户端
			尝试进行AOF或RDB持久化操作，如果是主服务器，对从服务器的定期同步
			如果处于集群模式，对集群进行定期同步和连接测试


三、事件的调度和执行规则
	1、aeApiPoll函数的最大阻塞时间由到达时间最接近但前时间的时间事件决定，这个方法即可避免服务器对事件事件的频繁轮询（忙等待），也可以保证aeApiPoll函数不会阻塞时间过长。

	2、因为文件事件是随机出现的，如果等待并处理完一次文件事件之后，仍未有任何时间事件到达，那么服务器将再次等待并处理文件事件。随着文件事件的不断执行，时间会逐渐向时间事件设置的事件逼近，最终到达，这时服务器就可以开始处理到达的时间事件。

	3、对文件事件和时间事件的处理都是同步的，有序、原子的执行的，服务器不会中途中断事件处理，也不会对事件进行抢占，因此不管什么事件的处理都会尽可能的减少程序的阻塞时间，并且有需要时主动让出执行权，从而降低饥饿事件的可能性。如多次执行或子进程等。

	4、因为时间事件在文件事件之后执行，并且事件之间不会出现抢占，所以时间事件的实际处理时间，通常会比时间事件设置的时间稍晚一些。


redis的集群是redis提供的分布式数据库方案，集群通过分片来进行数据的分享，并提供复制和故障转移功能

1、节点通过握手来将其它节点添加到自己所处的集群当中。

2、集群中的16384个槽可以分别指派给集群中的各个节点，每个节点都会记录哪些槽指派给自己以及其它槽指派给哪个节点。

3、节点在接到一个请求命令时，会先检查这个命令请求锁需要处理键的所在的槽是否由自己负责，如果不是的话，节点会向客户端返回
一个MOVED错误，MOVED错误携带的信息可以指引客户端转向至正在负责这个槽的节点。

4、对redis集群的重新分片工作由redis-trib负责执行，重新分片的关键是将属于某个槽的所有键值对从一个节点转移至另一个节点。

5、如果节点A正在迁移槽i到节点B，那么当节点A没能在自己的数据库中命令所指定的键时，节点会向客户端返回一个ASK错误，指引客户端
到节点B继续查找指定的数据库键。

6、MOVED错误表示槽的负责权限已经从一个节点转移到了另一个节点，ASK错误只是两个节点在迁移槽的过程中使用的一种临时措施。
